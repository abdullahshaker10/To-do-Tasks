(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(7),r=n.n(o),s=(n(13),n(5)),c=n(1),l=n(2),d=n(4),p=n(3),u=(n(14),n(15),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement(a.Fragment,null,i.a.createElement("div",{key:this.props.task.id,className:"task-wrapper flex-wrapper"},i.a.createElement("div",{style:{flex:7},onClick:function(){return e.props.stikeUnstrike(e.props.task)}},0==this.props.task.completed?i.a.createElement("span",null,this.props.task.title):i.a.createElement("strike",null,this.props.task.title)),i.a.createElement("div",{style:{flex:1}},i.a.createElement("button",{className:"btn btn-sm btn-outline-info",onClick:function(){return e.props.handelEdit(e.props.task)}},"Edit")),i.a.createElement("div",{style:{flex:1}},i.a.createElement("button",{className:"btn btn-sm btn-outline-dark delete",onClick:function(){return e.props.handelDelete(e.props.task)}},"Delete"))))}}]),n}(a.Component)),h=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.tasks;return i.a.createElement(a.Fragment,null,t.map((function(t){return i.a.createElement(u,{stikeUnstrike:e.props.stikeUnstrike,handelEdit:e.props.handelEdit,handelDelete:e.props.handelDelete,task:t})})))}}]),n}(a.Component),m=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={todoList:[],activeItem:{id:null,title:"",completed:!1},editing:!1},e.getCookie=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var i=n[a].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t},e.fetchTasks=function(){console.log("fetching..."),fetch("http://127.0.0.1:8000/api/tasks/").then((function(e){return e.json()})).then((function(t){return e.setState({todoList:t})}))},e.handelChange=function(t){t.target.name;var n=t.target.value;e.setState({activeItem:Object(s.a)(Object(s.a)({},e.state.activeItem),{},{title:n})})},e.handelSubmit=function(t){t.preventDefault();var n=e.getCookie("csrftoken"),a="http://127.0.0.1:8000/api/tasks/create/";if(e.state.editing)return a="http://127.0.0.1:8000/api/tasks/update/"+e.state.activeItem.id,e.setState({editing:!1}),void fetch(a,{method:"PATCH",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify(e.state.activeItem)}).then((function(t){e.fetchTasks(),e.setState({activeItem:{id:null,title:"",completed:!1}})}));fetch(a,{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify(e.state.activeItem)}).then((function(t){e.fetchTasks(),e.setState({activeItem:{id:null,title:"",completed:!1}})}))},e.handelDelete=function(t){var n=e.getCookie("csrftoken"),a="http://127.0.0.1:8000/api/tasks/delete/";a+=t.id,fetch(a,{method:"DELETE",headers:{"Content-type":"application/json","X-CSRFToken":n}}).then((function(t){e.fetchTasks()}))},e.handelEdit=function(t){e.setState({activeItem:t,editing:!0})},e.stikeUnstrike=function(t){t.completed=!t.completed;var n=e.getCookie("csrftoken"),a="http://127.0.0.1:8000/api/tasks/update/"+t.id;fetch(a,{method:"PATCH",headers:{"Content-type":"application/json","X-CSRFToken":n},body:JSON.stringify({title:t.title,completed:t.completed})}).then((function(){e.fetchTasks()}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"render",value:function(){var e=this.state.todoList;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{id:"task-container"},i.a.createElement("div",{id:"form-wrapper"},i.a.createElement("form",{id:"form",onSubmit:this.handelSubmit},i.a.createElement("div",{className:"flex-wrapper"},i.a.createElement("div",{style:{flex:6}},i.a.createElement("input",{className:"form-control",id:"title",type:"text",name:"title",placeholder:"Add task here",onChange:this.handelChange,value:this.state.activeItem.title})),i.a.createElement("div",{style:{flex:1}},i.a.createElement("input",{id:"submit",className:"btn btn-warning",type:"submit",name:"Add",value:"Submit"}))))),i.a.createElement("div",{is:"list-wrapper"},i.a.createElement(h,{tasks:e,stikeUnstrike:this.stikeUnstrike,handelEdit:this.handelEdit,handelDelete:this.handelDelete}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.3034b81a.chunk.js.map